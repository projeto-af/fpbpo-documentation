{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios No Sistema \u00danico de Sa\u00fade (SUS), o acesso a medicamentos se d\u00e1 prioritariamente por meio das farm\u00e1cias p\u00fablicas, espalhadas por todo o territ\u00f3rio, na Aten\u00e7\u00e3o Prim\u00e1ria \u00e0 Sa\u00fade, e para os casos excepcionais, atrav\u00e9s do Componente Especializado da Assist\u00eancia Farmac\u00eautica, de execu\u00e7\u00e3o estadual, al\u00e9m disso, no ano de 2004, o Governo Federal lan\u00e7ou o programa Farm\u00e1cia Popular do Brasil, como uma alternativa complementar para o acesso a medicamentos. O Programa surgiu atrav\u00e9s de uma demanda do Governo federal por uma proposta de amplia\u00e7\u00e3o do acesso a medicamentos, que se deu pela constata\u00e7\u00e3o da exist\u00eancia, nas grandes metr\u00f3poles, de uma grande parcela da popula\u00e7\u00e3o fazendo uso de servi\u00e7os privados, mas com dificuldade de acesso a medicamentos (Bocage Santos-Pinto, du, Ros\u00e1rio Costa, do e Osorio-de-Castro, 2011). A proposta de fornecimento de medicamentos a baixo custo utilizada pelo Laborat\u00f3rio Farmac\u00eautico de Pernambuco (Lafepe) desde 2001 passou a servir de modelo para a nova iniciativa do Governo federal. O Programa foi caracterizado pela gest\u00e3o conjunta entre Minist\u00e9rio da Sa\u00fade e Funda\u00e7\u00e3o Oswaldo Cruz (Fiocruz), que passou a cumprir o papel de executora do Programa (Bocage Santos-Pinto, du, Ros\u00e1rio Costa, do e Osorio-de-Castro, 2011). Atualmente o Programa Farm\u00e1cia Popular do Brasil est\u00e1 presente em cerca de 31 mil unidades, o que proporciona capilaridade ao programa, chegando as mais long\u00ednquas unidades da federa\u00e7\u00e3o e proporcionando o acesso a medicamentos para mais de 20 milh\u00f5es de usu\u00e1rios ao ano. Este projeto tem por objetivo aprimorar o acesso a medicamentos para os povos origin\u00e1rios, atrav\u00e9s da implementa\u00e7\u00e3o de um sistema de informa\u00e7\u00e3o que permita a gest\u00e3o do Programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios, com a finalidade de garantir a seguran\u00e7a e a efic\u00e1cia do uso de medicamentos, bem como a promo\u00e7\u00e3o do uso racional de medicamentos, a melhoria da ades\u00e3o ao tratamento e a redu\u00e7\u00e3o de custos para o SUS.","title":"Home"},{"location":"#farmacia-popular-do-brasil-povos-originarios","text":"No Sistema \u00danico de Sa\u00fade (SUS), o acesso a medicamentos se d\u00e1 prioritariamente por meio das farm\u00e1cias p\u00fablicas, espalhadas por todo o territ\u00f3rio, na Aten\u00e7\u00e3o Prim\u00e1ria \u00e0 Sa\u00fade, e para os casos excepcionais, atrav\u00e9s do Componente Especializado da Assist\u00eancia Farmac\u00eautica, de execu\u00e7\u00e3o estadual, al\u00e9m disso, no ano de 2004, o Governo Federal lan\u00e7ou o programa Farm\u00e1cia Popular do Brasil, como uma alternativa complementar para o acesso a medicamentos. O Programa surgiu atrav\u00e9s de uma demanda do Governo federal por uma proposta de amplia\u00e7\u00e3o do acesso a medicamentos, que se deu pela constata\u00e7\u00e3o da exist\u00eancia, nas grandes metr\u00f3poles, de uma grande parcela da popula\u00e7\u00e3o fazendo uso de servi\u00e7os privados, mas com dificuldade de acesso a medicamentos (Bocage Santos-Pinto, du, Ros\u00e1rio Costa, do e Osorio-de-Castro, 2011). A proposta de fornecimento de medicamentos a baixo custo utilizada pelo Laborat\u00f3rio Farmac\u00eautico de Pernambuco (Lafepe) desde 2001 passou a servir de modelo para a nova iniciativa do Governo federal. O Programa foi caracterizado pela gest\u00e3o conjunta entre Minist\u00e9rio da Sa\u00fade e Funda\u00e7\u00e3o Oswaldo Cruz (Fiocruz), que passou a cumprir o papel de executora do Programa (Bocage Santos-Pinto, du, Ros\u00e1rio Costa, do e Osorio-de-Castro, 2011). Atualmente o Programa Farm\u00e1cia Popular do Brasil est\u00e1 presente em cerca de 31 mil unidades, o que proporciona capilaridade ao programa, chegando as mais long\u00ednquas unidades da federa\u00e7\u00e3o e proporcionando o acesso a medicamentos para mais de 20 milh\u00f5es de usu\u00e1rios ao ano. Este projeto tem por objetivo aprimorar o acesso a medicamentos para os povos origin\u00e1rios, atrav\u00e9s da implementa\u00e7\u00e3o de um sistema de informa\u00e7\u00e3o que permita a gest\u00e3o do Programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios, com a finalidade de garantir a seguran\u00e7a e a efic\u00e1cia do uso de medicamentos, bem como a promo\u00e7\u00e3o do uso racional de medicamentos, a melhoria da ades\u00e3o ao tratamento e a redu\u00e7\u00e3o de custos para o SUS.","title":"Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios"},{"location":"pifpbpo/PIFPBPO001/","text":"Proposta de Implementa\u00e7\u00e3o Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios PIFPB: 001 T\u00edtulo: Autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao Programa FPBPO Autor: Jess\u00e9 Azev\u00eado jesse.azevedo@saude.gov.br Revisor: Michelly Ribeiro michelly.ribeiro@saude.gov.br Revisor: Bruno de Oliveira bruno.baltazar@saude.gov.br Status: Em valida\u00e7\u00e3o Vers\u00e3o: 1.0 Hist\u00f3rico de Revis\u00f5es Vers\u00e3o Data Autor Descri\u00e7\u00e3o 1.0 09/02/2025 Jess\u00e9 Azev\u00eado Cria\u00e7\u00e3o do documento Resumo Este documento tem por objetivo descrever o fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios, bem como os requisitos necess\u00e1rios para a implementa\u00e7\u00e3o do mesmo. Motiva\u00e7\u00e3o O Programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios (FPB-PO), \u00e9 uma aplica\u00e7\u00e3o voltada a atender um fluxo espec\u00edfico de atendimentos para o Programa Farm\u00e1cia Popular do Brasil com foco nas necessidades da sa\u00fade ind\u00edgena. Este fluxo possui particularidades intrinsecas ao seu objetivo, havendo m\u00faltiplos atores envolvidos e necessidade de controle de acesso e autoriza\u00e7\u00e3o de uso. Implementa\u00e7\u00e3o O fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao Programa FPB-PO ser\u00e1 implementado utilizando o protocolo OAuth 2.0 e OpenID Connect. Este \u00e9 um requisito n\u00e3o funcional descrito nas Diretrizes Arquiteturais do DATASUS . O processo de autoriza\u00e7\u00e3o envolve a intera\u00e7\u00e3o entre um Cliente (aplica\u00e7\u00e3o) e o Servidor de Autoriza\u00e7\u00e3o (Gov.br), a intera\u00e7\u00e3o pode ser resumida em 4 etapas: Solicita\u00e7\u00e3o de autoriza\u00e7\u00e3o: O cliente solicita autoriza\u00e7\u00e3o ao usu\u00e1rio para acessar recursos protegidos. Redirecionamento para Gov.br: O cliente redireciona o usu\u00e1rio para Gov.br para autentica\u00e7\u00e3o. Retorno de c\u00f3digo de autoriza\u00e7\u00e3o: Ap\u00f3s a autentica\u00e7\u00e3o, Gov.br redireciona o usu\u00e1rio de volta para o cliente com um c\u00f3digo de autoriza\u00e7\u00e3o. Solicita\u00e7\u00e3o de token de acesso: O cliente solicita um token de acesso ao Servidor de Autoriza\u00e7\u00e3o, enviando o c\u00f3digo de autoriza\u00e7\u00e3o e suas credenciais. Abaixo, o diagrama de sequ\u00eancia ilustra o fluxo em quest\u00e3o. sequenceDiagram participant Cliente participant Aplica\u00e7\u00e3o participant Gov.br participant Servidor de Autoriza\u00e7\u00e3o participant Servidor de Recursos Cliente->>Aplica\u00e7\u00e3o: Solicita acesso a recursos protegidos Aplica\u00e7\u00e3o->>Gov.br: Redireciona para Gov.br (tela de login) Gov.br->>Cliente: Exibe tela de login Gov.br Cliente->>Gov.br: Credenciais do usu\u00e1rio Gov.br->>Servidor de Autoriza\u00e7\u00e3o: Autentica usu\u00e1rio Servidor de Autoriza\u00e7\u00e3o->>Gov.br: Resposta de autentica\u00e7\u00e3o Gov.br->>Aplica\u00e7\u00e3o: Redireciona com c\u00f3digo de autoriza\u00e7\u00e3o Aplica\u00e7\u00e3o->>Servidor de Autoriza\u00e7\u00e3o: Solicita token de acesso (c\u00f3digo de autoriza\u00e7\u00e3o, Client ID, Client Secret) Servidor de Autoriza\u00e7\u00e3o->>Aplica\u00e7\u00e3o: Token de acesso e ID Token Aplica\u00e7\u00e3o->>Servidor de Recursos: Solicita recursos protegidos (com token de acesso) Servidor de Recursos->>Aplica\u00e7\u00e3o: Resposta com recursos protegidos Aplica\u00e7\u00e3o->>Cliente: Exibe recursos protegidos note right of Servidor de Autoriza\u00e7\u00e3o: OpenID Connect: Valida\u00e7\u00e3o do ID Token (informa\u00e7\u00f5es do usu\u00e1rio) A implementa\u00e7\u00e3o do fluxo de autoriza\u00e7\u00e3o dever\u00e1 especificar os recursos que precisar\u00e3o ser armazenados no banco de dados da aplica\u00e7\u00e3o, estes recursos ser\u00e3o passados por meio da query string scope . conforme tabela abaixo: Escopo Descri\u00e7\u00e3o openid Obrigat\u00f3rio para autentica\u00e7\u00e3o email E-mail do usu\u00e1rio profile Informa\u00e7\u00f5es do usu\u00e1rio govbr_confiabilidades N\u00edvel de confiabilidade do usu\u00e1rio (selos) A aplica\u00e7\u00e3o dever\u00e1 implementar a valida\u00e7\u00e3o do ID Token, conforme especificado no OpenID Connect . Uma vez recebida autenticado, a aplica\u00e7\u00e3o poder\u00e1 solicitar recursos protegidos ao Servidor de Recursos, enviando o token de acesso no cabe\u00e7alho da requisi\u00e7\u00e3o. Como resposta, o Servidor de Recursos retornar\u00e1 os recursos solicitados que dever\u00e3o ser persistidos em banco no primeiro login do usu\u00e1rio na aplica\u00e7\u00e3o. O Gov.Br retornar\u00e1 um objeto com as seguintes informa\u00e7\u00f5es: { \"sub\": \"(CPF do usu\u00e1rio autenticado.)\", \"amr\": [\"(Listagem dos fatores de autentica\u00e7\u00e3o do usu\u00e1rio com detalhamento. Verificar nas observa\u00e7\u00f5es para os detalhamentos.)\"], \"picture\": \"(URL de acesso \u00e0 foto do usu\u00e1rio cadastrada no Gov.br. A mesma \u00e9 protegida e pode ser acessada passando o access token recebido.)\", \"name\": \"(Nome cadastrado no Gov.br do usu\u00e1rio autenticado.)\", \"social_name\": \"(Nome Social cadastrado no Gov.br do usu\u00e1rio autenticado.Aparecer\u00e1 apenas se existir no cadastro)\", \"phone_number_verified\": \"(Confirma se o telefone foi validado no cadastro do Gov.br. Poder\u00e1 ter o valor \"true\" ou \"false\")\", \"phone_number\": \"(N\u00famero de telefone cadastrado no Gov.br do usu\u00e1rio autenticado. Caso o atributo phone_number_verified do ID_TOKEN tiver o valor false, o atributo phone_number n\u00e3o vir\u00e1 no ID_TOKEN)\", \"email_verified\": \"(Confirma se o email foi validado no cadastro do Gov.br. Poder\u00e1 ter o valor \"true\" ou \"false\")\", \"email\": \"(Endere\u00e7o de e-mail cadastrado no Gov.br do usu\u00e1rio autenticado. Caso o atributo email_verified do ID_TOKEN tiver o valor false, o atributo email n\u00e3o vir\u00e1 no ID_TOKEN)\", \"cnpj\": \"(CNPJ vinculado ao usu\u00e1rio autenticado. Atributo ser\u00e1 preenchido quando autentica\u00e7\u00e3o ocorrer por certificado digital de pessoal jur\u00eddica.)\" } Para recuperar os recursos relacionados a confiabilidade, a aplica\u00e7\u00e3o dever\u00e1 solicitar ao Servidor de Recursos, enviando o token de acesso no cabe\u00e7alho da requisi\u00e7\u00e3o. Como resposta, o Servidor de Recursos retornar\u00e1 os recursos solicitados. Esta chamada dever\u00e1 ocorrer sempre que o usu\u00e1rio realizar uma autentica\u00e7\u00e3o na aplica\u00e7\u00e3o, muitos dos recursos da aplica\u00e7\u00e3o ser\u00e3o disponibilizados de acordo com o n\u00edvel de confiabilidade do usu\u00e1rio. Abaixo retorno do Servidor de Recursos: [ { \"id\": \"1 (Bronze)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" }, { \"id\": \"2 (Prata)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" }, { \"id\": \"3 (Ouro)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" } ] Crit\u00e9rios de Aceita\u00e7\u00e3o A aplica\u00e7\u00e3o dever\u00e1 implementar o fluxo de autoriza\u00e7\u00e3o utilizando OAuth 2.0 e OpenID Connect. A aplica\u00e7\u00e3o dever\u00e1 implementar a valida\u00e7\u00e3o do ID Token. A aplica\u00e7\u00e3o dever\u00e1 persistir os recursos retornados pelo Servidor de Recursos. Ao logar pela primeira vez, o usu\u00e1rio dever\u00e1 complementar seu cadastro, informando dados adicionais conforme t\u00edtulo Modelo de Dados, descrito abaixo. A cada execu\u00e7\u00e3o do fluxo de autentica\u00e7\u00e3o/autoriza\u00e7\u00e3o, a aplica\u00e7\u00e3o dever\u00e1 verificar se houve atualiza\u00e7\u00e3o no cadastro do usu\u00e1rio, atualizando dados cadastrais pertinentes. A aplica\u00e7\u00e3o dever\u00e1 implementar a solicita\u00e7\u00e3o de recursos de confiabilidade ao Servidor de Recursos. A cada execu\u00e7\u00e3o do fluxo de autentica\u00e7\u00e3o/autoriza\u00e7\u00e3o, a aplica\u00e7\u00e3o dever\u00e1 verificar o retorno do n\u00edvel de confiabilidade do usu\u00e1rio, a aplica\u00e7\u00e3o dever\u00e1 reagir aos n\u00edveis de confiabilidade definidos e conjunto de permiss\u00f5es atribuidas ao usu\u00e1rio. Modelo de Dados N\u00edvel Atributo Descri\u00e7\u00e3o Cardinalidade Tipo de Dado Tamanho Formato 1 Identificador do Usu\u00e1rio C\u00f3digo sequencial com identificador do usu\u00e1rio (1, 1) number - - 1 Nome Nome do usu\u00e1rio (1, 1) string 100 - 1 Nome Social Nome Social cadastrado no Gov.br do usu\u00e1rio autenticado. (0, 1) string 100 - 1 E-mail E-mail do usu\u00e1rio (1, 1) string 100 e-mail 1 CPF CPF do usu\u00e1rio (1, 1) string 11 CPF 1 Telefone Telefone do usu\u00e1rio (0, 1) string 15 (xx) xxxxx-xxxx 1 Endere\u00e7o Endere\u00e7o do usu\u00e1rio (1, 1) string 100 - 1 N\u00famero N\u00famero do endere\u00e7o (1, 1) string 10 - 1 Complemento Complemento do endere\u00e7o (0, 1) string 100 - 1 Bairro Bairro do endere\u00e7o (1, 1) string 100 - 1 Cidade Cidade do endere\u00e7o (1, 1) string 100 - 1 UF Estado do endere\u00e7o (1, 1) string 2 - 1 CEP CEP do endere\u00e7o (1, 1) string 8 - OBS: O campo Nome Social ser\u00e1 exibido apenas se existir no cadastro do usu\u00e1rio. UF, Bairro, Estado e Cidade dever\u00e3o ser preenchidos automaticamente a partir do CEP informado pelo usu\u00e1rio, e dever\u00e1 ser consumido na DBGERAL do MS. Elementos de Interface Abaixo, o prot\u00f3tipo de tela para o fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o e cadastro complementar do usu\u00e1rio. Prot\u00f3tipos Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios","title":"PIFPBPO001 - O que \u00e9 uma PIFPBPO"},{"location":"pifpbpo/PIFPBPO001/#proposta-de-implementacao-farmacia-popular-do-brasil-povos-originarios","text":"PIFPB: 001 T\u00edtulo: Autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao Programa FPBPO Autor: Jess\u00e9 Azev\u00eado jesse.azevedo@saude.gov.br Revisor: Michelly Ribeiro michelly.ribeiro@saude.gov.br Revisor: Bruno de Oliveira bruno.baltazar@saude.gov.br Status: Em valida\u00e7\u00e3o Vers\u00e3o: 1.0","title":"Proposta de Implementa\u00e7\u00e3o Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios"},{"location":"pifpbpo/PIFPBPO001/#historico-de-revisoes","text":"Vers\u00e3o Data Autor Descri\u00e7\u00e3o 1.0 09/02/2025 Jess\u00e9 Azev\u00eado Cria\u00e7\u00e3o do documento","title":"Hist\u00f3rico de Revis\u00f5es"},{"location":"pifpbpo/PIFPBPO001/#resumo","text":"Este documento tem por objetivo descrever o fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios, bem como os requisitos necess\u00e1rios para a implementa\u00e7\u00e3o do mesmo.","title":"Resumo"},{"location":"pifpbpo/PIFPBPO001/#motivacao","text":"O Programa Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios (FPB-PO), \u00e9 uma aplica\u00e7\u00e3o voltada a atender um fluxo espec\u00edfico de atendimentos para o Programa Farm\u00e1cia Popular do Brasil com foco nas necessidades da sa\u00fade ind\u00edgena. Este fluxo possui particularidades intrinsecas ao seu objetivo, havendo m\u00faltiplos atores envolvidos e necessidade de controle de acesso e autoriza\u00e7\u00e3o de uso.","title":"Motiva\u00e7\u00e3o"},{"location":"pifpbpo/PIFPBPO001/#implementacao","text":"O fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o para acesso ao Programa FPB-PO ser\u00e1 implementado utilizando o protocolo OAuth 2.0 e OpenID Connect. Este \u00e9 um requisito n\u00e3o funcional descrito nas Diretrizes Arquiteturais do DATASUS . O processo de autoriza\u00e7\u00e3o envolve a intera\u00e7\u00e3o entre um Cliente (aplica\u00e7\u00e3o) e o Servidor de Autoriza\u00e7\u00e3o (Gov.br), a intera\u00e7\u00e3o pode ser resumida em 4 etapas: Solicita\u00e7\u00e3o de autoriza\u00e7\u00e3o: O cliente solicita autoriza\u00e7\u00e3o ao usu\u00e1rio para acessar recursos protegidos. Redirecionamento para Gov.br: O cliente redireciona o usu\u00e1rio para Gov.br para autentica\u00e7\u00e3o. Retorno de c\u00f3digo de autoriza\u00e7\u00e3o: Ap\u00f3s a autentica\u00e7\u00e3o, Gov.br redireciona o usu\u00e1rio de volta para o cliente com um c\u00f3digo de autoriza\u00e7\u00e3o. Solicita\u00e7\u00e3o de token de acesso: O cliente solicita um token de acesso ao Servidor de Autoriza\u00e7\u00e3o, enviando o c\u00f3digo de autoriza\u00e7\u00e3o e suas credenciais. Abaixo, o diagrama de sequ\u00eancia ilustra o fluxo em quest\u00e3o. sequenceDiagram participant Cliente participant Aplica\u00e7\u00e3o participant Gov.br participant Servidor de Autoriza\u00e7\u00e3o participant Servidor de Recursos Cliente->>Aplica\u00e7\u00e3o: Solicita acesso a recursos protegidos Aplica\u00e7\u00e3o->>Gov.br: Redireciona para Gov.br (tela de login) Gov.br->>Cliente: Exibe tela de login Gov.br Cliente->>Gov.br: Credenciais do usu\u00e1rio Gov.br->>Servidor de Autoriza\u00e7\u00e3o: Autentica usu\u00e1rio Servidor de Autoriza\u00e7\u00e3o->>Gov.br: Resposta de autentica\u00e7\u00e3o Gov.br->>Aplica\u00e7\u00e3o: Redireciona com c\u00f3digo de autoriza\u00e7\u00e3o Aplica\u00e7\u00e3o->>Servidor de Autoriza\u00e7\u00e3o: Solicita token de acesso (c\u00f3digo de autoriza\u00e7\u00e3o, Client ID, Client Secret) Servidor de Autoriza\u00e7\u00e3o->>Aplica\u00e7\u00e3o: Token de acesso e ID Token Aplica\u00e7\u00e3o->>Servidor de Recursos: Solicita recursos protegidos (com token de acesso) Servidor de Recursos->>Aplica\u00e7\u00e3o: Resposta com recursos protegidos Aplica\u00e7\u00e3o->>Cliente: Exibe recursos protegidos note right of Servidor de Autoriza\u00e7\u00e3o: OpenID Connect: Valida\u00e7\u00e3o do ID Token (informa\u00e7\u00f5es do usu\u00e1rio) A implementa\u00e7\u00e3o do fluxo de autoriza\u00e7\u00e3o dever\u00e1 especificar os recursos que precisar\u00e3o ser armazenados no banco de dados da aplica\u00e7\u00e3o, estes recursos ser\u00e3o passados por meio da query string scope . conforme tabela abaixo: Escopo Descri\u00e7\u00e3o openid Obrigat\u00f3rio para autentica\u00e7\u00e3o email E-mail do usu\u00e1rio profile Informa\u00e7\u00f5es do usu\u00e1rio govbr_confiabilidades N\u00edvel de confiabilidade do usu\u00e1rio (selos) A aplica\u00e7\u00e3o dever\u00e1 implementar a valida\u00e7\u00e3o do ID Token, conforme especificado no OpenID Connect . Uma vez recebida autenticado, a aplica\u00e7\u00e3o poder\u00e1 solicitar recursos protegidos ao Servidor de Recursos, enviando o token de acesso no cabe\u00e7alho da requisi\u00e7\u00e3o. Como resposta, o Servidor de Recursos retornar\u00e1 os recursos solicitados que dever\u00e3o ser persistidos em banco no primeiro login do usu\u00e1rio na aplica\u00e7\u00e3o. O Gov.Br retornar\u00e1 um objeto com as seguintes informa\u00e7\u00f5es: { \"sub\": \"(CPF do usu\u00e1rio autenticado.)\", \"amr\": [\"(Listagem dos fatores de autentica\u00e7\u00e3o do usu\u00e1rio com detalhamento. Verificar nas observa\u00e7\u00f5es para os detalhamentos.)\"], \"picture\": \"(URL de acesso \u00e0 foto do usu\u00e1rio cadastrada no Gov.br. A mesma \u00e9 protegida e pode ser acessada passando o access token recebido.)\", \"name\": \"(Nome cadastrado no Gov.br do usu\u00e1rio autenticado.)\", \"social_name\": \"(Nome Social cadastrado no Gov.br do usu\u00e1rio autenticado.Aparecer\u00e1 apenas se existir no cadastro)\", \"phone_number_verified\": \"(Confirma se o telefone foi validado no cadastro do Gov.br. Poder\u00e1 ter o valor \"true\" ou \"false\")\", \"phone_number\": \"(N\u00famero de telefone cadastrado no Gov.br do usu\u00e1rio autenticado. Caso o atributo phone_number_verified do ID_TOKEN tiver o valor false, o atributo phone_number n\u00e3o vir\u00e1 no ID_TOKEN)\", \"email_verified\": \"(Confirma se o email foi validado no cadastro do Gov.br. Poder\u00e1 ter o valor \"true\" ou \"false\")\", \"email\": \"(Endere\u00e7o de e-mail cadastrado no Gov.br do usu\u00e1rio autenticado. Caso o atributo email_verified do ID_TOKEN tiver o valor false, o atributo email n\u00e3o vir\u00e1 no ID_TOKEN)\", \"cnpj\": \"(CNPJ vinculado ao usu\u00e1rio autenticado. Atributo ser\u00e1 preenchido quando autentica\u00e7\u00e3o ocorrer por certificado digital de pessoal jur\u00eddica.)\" } Para recuperar os recursos relacionados a confiabilidade, a aplica\u00e7\u00e3o dever\u00e1 solicitar ao Servidor de Recursos, enviando o token de acesso no cabe\u00e7alho da requisi\u00e7\u00e3o. Como resposta, o Servidor de Recursos retornar\u00e1 os recursos solicitados. Esta chamada dever\u00e1 ocorrer sempre que o usu\u00e1rio realizar uma autentica\u00e7\u00e3o na aplica\u00e7\u00e3o, muitos dos recursos da aplica\u00e7\u00e3o ser\u00e3o disponibilizados de acordo com o n\u00edvel de confiabilidade do usu\u00e1rio. Abaixo retorno do Servidor de Recursos: [ { \"id\": \"1 (Bronze)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" }, { \"id\": \"2 (Prata)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" }, { \"id\": \"3 (Ouro)\", \"dataAtualizacao\": \"(Mostra a data e hora que ocorreu atualiza\u00e7\u00e3o da categoria na conta do usu\u00e1rio. A mascar\u00e1 ser\u00e1 YYYY-MM-DD HH:MM:SS)\" } ]","title":"Implementa\u00e7\u00e3o"},{"location":"pifpbpo/PIFPBPO001/#criterios-de-aceitacao","text":"A aplica\u00e7\u00e3o dever\u00e1 implementar o fluxo de autoriza\u00e7\u00e3o utilizando OAuth 2.0 e OpenID Connect. A aplica\u00e7\u00e3o dever\u00e1 implementar a valida\u00e7\u00e3o do ID Token. A aplica\u00e7\u00e3o dever\u00e1 persistir os recursos retornados pelo Servidor de Recursos. Ao logar pela primeira vez, o usu\u00e1rio dever\u00e1 complementar seu cadastro, informando dados adicionais conforme t\u00edtulo Modelo de Dados, descrito abaixo. A cada execu\u00e7\u00e3o do fluxo de autentica\u00e7\u00e3o/autoriza\u00e7\u00e3o, a aplica\u00e7\u00e3o dever\u00e1 verificar se houve atualiza\u00e7\u00e3o no cadastro do usu\u00e1rio, atualizando dados cadastrais pertinentes. A aplica\u00e7\u00e3o dever\u00e1 implementar a solicita\u00e7\u00e3o de recursos de confiabilidade ao Servidor de Recursos. A cada execu\u00e7\u00e3o do fluxo de autentica\u00e7\u00e3o/autoriza\u00e7\u00e3o, a aplica\u00e7\u00e3o dever\u00e1 verificar o retorno do n\u00edvel de confiabilidade do usu\u00e1rio, a aplica\u00e7\u00e3o dever\u00e1 reagir aos n\u00edveis de confiabilidade definidos e conjunto de permiss\u00f5es atribuidas ao usu\u00e1rio.","title":"Crit\u00e9rios de Aceita\u00e7\u00e3o"},{"location":"pifpbpo/PIFPBPO001/#modelo-de-dados","text":"N\u00edvel Atributo Descri\u00e7\u00e3o Cardinalidade Tipo de Dado Tamanho Formato 1 Identificador do Usu\u00e1rio C\u00f3digo sequencial com identificador do usu\u00e1rio (1, 1) number - - 1 Nome Nome do usu\u00e1rio (1, 1) string 100 - 1 Nome Social Nome Social cadastrado no Gov.br do usu\u00e1rio autenticado. (0, 1) string 100 - 1 E-mail E-mail do usu\u00e1rio (1, 1) string 100 e-mail 1 CPF CPF do usu\u00e1rio (1, 1) string 11 CPF 1 Telefone Telefone do usu\u00e1rio (0, 1) string 15 (xx) xxxxx-xxxx 1 Endere\u00e7o Endere\u00e7o do usu\u00e1rio (1, 1) string 100 - 1 N\u00famero N\u00famero do endere\u00e7o (1, 1) string 10 - 1 Complemento Complemento do endere\u00e7o (0, 1) string 100 - 1 Bairro Bairro do endere\u00e7o (1, 1) string 100 - 1 Cidade Cidade do endere\u00e7o (1, 1) string 100 - 1 UF Estado do endere\u00e7o (1, 1) string 2 - 1 CEP CEP do endere\u00e7o (1, 1) string 8 - OBS: O campo Nome Social ser\u00e1 exibido apenas se existir no cadastro do usu\u00e1rio. UF, Bairro, Estado e Cidade dever\u00e3o ser preenchidos automaticamente a partir do CEP informado pelo usu\u00e1rio, e dever\u00e1 ser consumido na DBGERAL do MS.","title":"Modelo de Dados"},{"location":"pifpbpo/PIFPBPO001/#elementos-de-interface","text":"Abaixo, o prot\u00f3tipo de tela para o fluxo de autentica\u00e7\u00e3o e autoriza\u00e7\u00e3o e cadastro complementar do usu\u00e1rio. Prot\u00f3tipos Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios","title":"Elementos de Interface"},{"location":"sobre/sobre/","text":"Sobre o Projeto O Projeto Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios ser\u00e1 desenvolvido por meio de carta acordo celebrada entre Minist\u00e9rio da Sa\u00fade e a Prganiza\u00e7\u00e3o Pan-Americana da Sa\u00fade (OPAS), com o objetivo de aprimorar o acesso a medicamentos por meio da implementa\u00e7\u00e3o de um sistema de informa\u00e7\u00e3o que permita a gest\u00e3o do Programa Farm\u00e1cia Popular do Brasil com foco nas necessidades da Sa\u00fade Ind\u00edgena. A vers\u00e3o inicial do sistema ser\u00e1 desenvolvida para atender as necessidades do Programa Farm\u00e1cia Popular do Brasil, dos Distritos Sanit\u00e1rios Especial Ind\u00edgenas (DSEI's) e Farm\u00e1cias Conveniadas ao Programa.","title":"Sobre o Projeto"},{"location":"sobre/sobre/#sobre-o-projeto","text":"O Projeto Farm\u00e1cia Popular do Brasil Povos Origin\u00e1rios ser\u00e1 desenvolvido por meio de carta acordo celebrada entre Minist\u00e9rio da Sa\u00fade e a Prganiza\u00e7\u00e3o Pan-Americana da Sa\u00fade (OPAS), com o objetivo de aprimorar o acesso a medicamentos por meio da implementa\u00e7\u00e3o de um sistema de informa\u00e7\u00e3o que permita a gest\u00e3o do Programa Farm\u00e1cia Popular do Brasil com foco nas necessidades da Sa\u00fade Ind\u00edgena. A vers\u00e3o inicial do sistema ser\u00e1 desenvolvida para atender as necessidades do Programa Farm\u00e1cia Popular do Brasil, dos Distritos Sanit\u00e1rios Especial Ind\u00edgenas (DSEI's) e Farm\u00e1cias Conveniadas ao Programa.","title":"Sobre o Projeto"}]}